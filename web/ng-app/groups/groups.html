<div class="container">
    <div layout="row" layout-align="start center">
        <md-subheader class="md-primary">
            {{vm.groups.length ? '(' + vm.groups.length + ') ' : ''}}
            Groups
        </md-subheader>
        <span flex></span>
        <md-input-container style="width:220px;">
            <label>Filter</label>
            <input ng-model="vm.filter"/>
        </md-input-container>
        <md-button class="md-fab md-mini md-primary" ng-click="vm.openAddDialog($event)"
                   ng-if="vm.check('GROUPS_CREATE')">
            <md-icon class="material-icons">add</md-icon>
            <md-tooltip>Add a Group</md-tooltip>
            <named-spinner name="add-group"></named-spinner>
        </md-button>
    </div>
    <md-content class="md-whiteframe-1dp table-container" ng-if="vm.groups.length">
        <table class="material-table">
            <thead>
            <tr>
                <th>
                    <material-th label="ID" value-ref="id" sort-on="vm.tableOptions.sortColumn"
                                 sort-reverse="vm.tableOptions.sortReverse"></material-th>
                </th>
                <th>
                    <material-th label="Name" value-ref="displayName" sort-on="vm.tableOptions.sortColumn"
                                 sort-reverse="vm.tableOptions.sortReverse" default="true"></material-th>
                </th>
                <th>
                    <material-th label="Description" value-ref="description" sort-on="vm.tableOptions.sortColumn"
                                 sort-reverse="vm.tableOptions.sortReverse"></material-th>
                </th>
            </tr>
            </thead>
            <tbody>
            <tr ng-class="{clickable: vm.check('GROUPS_UPDATE')}" ng-click="vm.openEditDialog(group)"
                ng-repeat="group in vm.groups | filter: vm.filter | orderBy : vm.tableOptions.sortColumn : vm.tableOptions.sortReverse">
                <td>{{::group.id}}</td>
                <td>{{::group.displayName}}</td>
                <td>{{::group.description}}</td>
            </tr>
            </tbody>
        </table>
    </md-content>
    <div layout="row" layout-align="center center" ng-if="!vm.groups.length">
        No Results Found
    </div>
    <named-spinner name="groups"></named-spinner>
</div>